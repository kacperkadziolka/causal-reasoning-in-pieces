- description: Step 1 (Read the data) - correct example
  user_prompt: |
    Given the following chain-of-thought:
    Task Description: Given the provided premise, apply the PC (Peter-Clark) algorithm only by following instructions given below. Do not provide any additional information or assumptions.
    Premise: Suppose there is a closed system of 5 variables, A, B, C, D and E. All the statistical relations among these 5 variables are as follows: A correlates with B. A correlates with C. A correlates with D. A correlates with E. B correlates with C. B correlates with D. B correlates with E. C correlates with D. C correlates with E. D correlates with E. However, A and C are independent given B. A and C are independent given B and E. B and E are independent given A. B and E are independent given A and C. B and E are independent given A, C and D. B and E are independent given A and D. C and E are independent given A. C and E are independent given A and B. C and E are independent given A, B and D. C and E are independent given A and D. C and E are independent given B. D and E are independent given A. D and E are independent given A and B. D and E are independent given A, B and C. D and E are independent given A and C.

    And the following candidate step:
    - Extracted variables: A, B, C, D, E
    - Correlations: (A, B), (A, C), (A, D), (A, E), (B, C), (B, D), (B, E), (C, D), (C, E), (D, E)
    - Independencies:
      - A and C are independent given B
      - A and C are independent given B and E
      - B and E are independent given A
      - B and E are independent given A and C
      - B and E are independent given A, C and D
      - B and E are independent given A and D
      - C and E are independent given A
      - C and E are independent given A and B
      - C and E are independent given A, B and D
      - C and E are independent given A and D
      - C and E are independent given B
      - D and E are independent given A
      - D and E are independent given A and B
      - D and E are independent given A, B and C
      - D and E are independent given A and C
    
    Please evaluate the candidate step with respect to these constraints:
    Read the Data
    - Identify extracted nodes and their correlations.
    - Note all independencies.
    
    Consider the following criteria:
    - Does the candidate step correctly implement the change(s) specified?
    - Are all nodes and edges (or removals) consistent with the overall constraints?
    - Is the candidate step detailed enough to reflect the intended modifications?
    
    Rate on a scale from 0 (poor) to 10 (excellent) how well the candidate step satisfies the constraints.
    
    IMPORTANT:
    - Your response MUST be exactly one integer number between 0 and 10.
    - Do NOT include any extra text, explanation, or additional characters.
    
    For example, if you believe the state is excellent, simply respond with:
    10
    
- description: Step 1 (Read the data) - missing variable
  user_prompt: |
    Given the following chain-of-thought:
    Task Description: Given the provided premise, apply the PC (Peter-Clark) algorithm only by following instructions given below. Do not provide any additional information or assumptions.
    Premise: Suppose there is a closed system of 5 variables, A, B, C, D and E. All the statistical relations among these 5 variables are as follows: A correlates with B. A correlates with C. A correlates with D. A correlates with E. B correlates with C. B correlates with D. B correlates with E. C correlates with D. C correlates with E. D correlates with E. However, A and C are independent given B. A and C are independent given B and E. B and E are independent given A. B and E are independent given A and C. B and E are independent given A, C and D. B and E are independent given A and D. C and E are independent given A. C and E are independent given A and B. C and E are independent given A, B and D. C and E are independent given A and D. C and E are independent given B. D and E are independent given A. D and E are independent given A and B. D and E are independent given A, B and C. D and E are independent given A and C.

    And the following candidate step:
    - Extracted variables: A, B, C, D
    - Correlations: (A, B), (A, C), (A, D), (B, C), (B, D), (C, D)
    - Independencies:
      - A and C are independent given B
      - A and C are independent given B

    Please evaluate the candidate step with respect to these constraints:
    Read the Data
    - Identify extracted nodes and their correlations.
    - Note all independencies.
    
    Consider the following criteria:
    - Does the candidate step correctly implement the change(s) specified?
    - Are all nodes and edges (or removals) consistent with the overall constraints?
    - Is the candidate step detailed enough to reflect the intended modifications?
    
    Rate on a scale from 0 (poor) to 10 (excellent) how well the candidate step satisfies the constraints.
    
    IMPORTANT:
    - Your response MUST be exactly one integer number between 0 and 10.
    - Do NOT include any extra text, explanation, or additional characters.
    
    For example, if you believe the state is excellent, simply respond with:
    10
    
- description: Step 4 (Compile the skeleton) - correct example
  user_prompt: |
    Given the following chain-of-thought:
    Task Description: Given the provided premise, apply the PC (Peter-Clark) algorithm only by following instructions given below. Do not provide any additional information or assumptions.
    Premise: Suppose there is a closed system of 5 variables, A, B, C, D and E. All the statistical relations among these 5 variables are as follows: A correlates with B. A correlates with C. A correlates with D. A correlates with E. B correlates with C. B correlates with D. B correlates with E. C correlates with D. C correlates with E. D correlates with E. However, A and C are independent given B. A and C are independent given B and E. B and E are independent given A. B and E are independent given A and C. B and E are independent given A, C and D. B and E are independent given A and D. C and E are independent given A. C and E are independent given A and B. C and E are independent given A, B and D. C and E are independent given A and D. C and E are independent given B. D and E are independent given A. D and E are independent given A and B. D and E are independent given A, B and C. D and E are independent given A and C.
    
    Step 1 - Read the Data:
    - Extracted variables: A, B, C, D, E
    - Correlations: (A, B), (A, C), (A, D), (A, E), (B, C), (B, D), (B, E), (C, D), (C, E), (D, E)
    - Independencies:
      - A and C are independent given B
      - A and C are independent given B and E
      - B and E are independent given A
      - B and E are independent given A and C
      - B and E are independent given A, C and D
      - B and E are independent given A and D
      - C and E are independent given A
      - C and E are independent given A and B
      - C and E are independent given A, B and D
      - C and E are independent given A and D
      - C and E are independent given B
      - D and E are independent given A
      - D and E are independent given A and B
      - D and E are independent given A, B and C
      - D and E are independent given A and C
    
    Step 2 - Initialize the Graph:
    - Created edges between all correlated variable pairs.
    - Initial edges: {(A, B), (A, C), (A, D), (A, E), (B, C), (B, D), (B, E), (C, D), (C, E), (D, E)}
    - Connections for each node:
      - A: {B, C, D, E}
      - B: {A, C, D, E}
      - C: {A, B, D, E}
      - D: {A, B, C, E}
      - E: {A, B, C, D}
    
    Step 3 - Apply Independencies:
    - Because A and C are independent given B, remove the edge between A and C.
    - Because A and C are independent given B and E, there is no edge between A and C.
    - Because B and E are independent given A, remove the edge between B and E.
    - Because B and E are independent given A and C, there is no edge between B and E.
    - Because B and E are independent given A, C and D, there is no edge between B and E.
    - Because B and E are independent given A and D, there is no edge between B and E.
    - Because C and E are independent given A, remove the edge between C and E.
    - Because C and E are independent given A and B, there is no edge between C and E.
    - Because C and E are independent given A, B and D, there is no edge between C and E.
    - Because C and E are independent given A and D, there is no edge between C and E.
    - Because C and E are independent given B, there is no edge between C and E.
    - Because D and E are independent given A, remove the edge between D and E.
    - Because D and E are independent given A and B, there is no edge between D and E.
    - Because D and E are independent given A, B and C, there is no edge between D and E.
    - Because D and E are independent given A and C, there is no edge between D and E.
    
    And the following candidate step:
    In this graph:
    - Node A is connected to nodes B, D, E.
    - Node B is connected to nodes A, C, D.
    - Node C is connected to nodes B, D.
    - Node D is connected to nodes A, B, C.
    - Node E has no connections.
    
    Please evaluate the candidate step with respect to these constraints:
    Compile the Causal Undirected Skeleton
    - List every variable (node) identified in the premise.
    - For each node, list all other nodes it is connected to based on the correlations.
    - Exclude any edge that should be removed due to a declared independency.
    - Ensure the final graph reflects both:
        - All existing correlations as edges, and
        - The absence of edges where independencies apply.
    - Format the output in a clear, consistent manner, for example:
        In this graph:
        - Node A is connected to nodes B, C.
        - Node B is connected to node A.
        - Node C is connected to node A.
        - Node D has no connections.
    Compile the Causal Undirected Skeleton
    - List each node with its connected nodes.
    - Ensure all applied independencies are reflected accurately.
    
    Consider the following criteria:
    - Does the candidate step correctly implement the change(s) specified?
    - Are all nodes and edges (or removals) consistent with the overall constraints?
    - Is the candidate step detailed enough to reflect the intended modifications?
    
    Rate on a scale from 0 (poor) to 10 (excellent) how well the candidate step satisfies the constraints.
    
    IMPORTANT:
    - Your response MUST be exactly one integer number between 0 and 10.
    - Do NOT include any extra text, explanation, or additional characters.
    
    For example, if you believe the state is excellent, simply respond with:
    10

- description: Step 4 (Compile the skeleton) - missing one edge (A, D)
  user_prompt: |
    Given the following chain-of-thought:
    Task Description: Given the provided premise, apply the PC (Peter-Clark) algorithm only by following instructions given below. Do not provide any additional information or assumptions.
    Premise: Suppose there is a closed system of 5 variables, A, B, C, D and E. All the statistical relations among these 5 variables are as follows: A correlates with B. A correlates with C. A correlates with D. A correlates with E. B correlates with C. B correlates with D. B correlates with E. C correlates with D. C correlates with E. D correlates with E. However, A and C are independent given B. A and C are independent given B and E. B and E are independent given A. B and E are independent given A and C. B and E are independent given A, C and D. B and E are independent given A and D. C and E are independent given A. C and E are independent given A and B. C and E are independent given A, B and D. C and E are independent given A and D. C and E are independent given B. D and E are independent given A. D and E are independent given A and B. D and E are independent given A, B and C. D and E are independent given A and C.
    
    Step 1 - Read the Data:
    - Extracted variables: A, B, C, D, E
    - Correlations: (A, B), (A, C), (A, D), (A, E), (B, C), (B, D), (B, E), (C, D), (C, E), (D, E)
    - Independencies:
      - A and C are independent given B
      - A and C are independent given B and E
      - B and E are independent given A
      - B and E are independent given A and C
      - B and E are independent given A, C and D
      - B and E are independent given A and D
      - C and E are independent given A
      - C and E are independent given A and B
      - C and E are independent given A, B and D
      - C and E are independent given A and D
      - C and E are independent given B
      - D and E are independent given A
      - D and E are independent given A and B
      - D and E are independent given A, B and C
      - D and E are independent given A and C
    
    Step 2 - Initialize the Graph:
    - Created edges between all correlated variable pairs.
    - Initial edges: {(A, B), (A, C), (A, D), (A, E), (B, C), (B, D), (B, E), (C, D), (C, E), (D, E)}
    - Connections for each node:
      - A: {B, C, D, E}
      - B: {A, C, D, E}
      - C: {A, B, D, E}
      - D: {A, B, C, E}
      - E: {A, B, C, D}
    
    Step 3 - Apply Independencies:
    - Because A and C are independent given B, remove the edge between A and C.
    - Because A and C are independent given B and E, there is no edge between A and C.
    - Because B and E are independent given A, remove the edge between B and E.
    - Because B and E are independent given A and C, there is no edge between B and E.
    - Because B and E are independent given A, C and D, there is no edge between B and E.
    - Because B and E are independent given A and D, there is no edge between B and E.
    - Because C and E are independent given A, remove the edge between C and E.
    - Because C and E are independent given A and B, there is no edge between C and E.
    - Because C and E are independent given A, B and D, there is no edge between C and E.
    - Because C and E are independent given A and D, there is no edge between C and E.
    - Because C and E are independent given B, there is no edge between C and E.
    - Because D and E are independent given A, remove the edge between D and E.
    - Because D and E are independent given A and B, there is no edge between D and E.
    - Because D and E are independent given A, B and C, there is no edge between D and E.
    - Because D and E are independent given A and C, there is no edge between D and E.
    
    And the following candidate step:
    In this graph:
    - Node A is connected to nodes B, E.
    - Node B is connected to nodes A, C, D.
    - Node C is connected to nodes B, D.
    - Node D is connected to nodes B, C.
    - Node E has no connections.
    
    Please evaluate the candidate step with respect to these constraints:
    Compile the Causal Undirected Skeleton
    - List every variable (node) identified in the premise.
    - For each node, list all other nodes it is connected to based on the correlations.
    - Exclude any edge that should be removed due to a declared independency.
    - Ensure the final graph reflects both:
        - All existing correlations as edges, and
        - The absence of edges where independencies apply.
    - Format the output in a clear, consistent manner, for example:
        In this graph:
        - Node A is connected to nodes B, C.
        - Node B is connected to node A.
        - Node C is connected to node A.
        - Node D has no connections.
    Compile the Causal Undirected Skeleton
    - List each node with its connected nodes.
    - Ensure all applied independencies are reflected accurately.
    
    Consider the following criteria:
    - Does the candidate step correctly implement the change(s) specified?
    - Are all nodes and edges (or removals) consistent with the overall constraints?
    - Is the candidate step detailed enough to reflect the intended modifications?
    
    Rate on a scale from 0 (poor) to 10 (excellent) how well the candidate step satisfies the constraints.
    
    IMPORTANT:
    - Your response MUST be exactly one integer number between 0 and 10.
    - Do NOT include any extra text, explanation, or additional characters.
    
    For example, if you believe the state is excellent, simply respond with:
    10

- description: Step 4 (Compile the skeleton) - missing two edges (A, D) (C, D)
  user_prompt: |
    Given the following chain-of-thought:
    Task Description: Given the provided premise, apply the PC (Peter-Clark) algorithm only by following instructions given below. Do not provide any additional information or assumptions.
    Premise: Suppose there is a closed system of 5 variables, A, B, C, D and E. All the statistical relations among these 5 variables are as follows: A correlates with B. A correlates with C. A correlates with D. A correlates with E. B correlates with C. B correlates with D. B correlates with E. C correlates with D. C correlates with E. D correlates with E. However, A and C are independent given B. A and C are independent given B and E. B and E are independent given A. B and E are independent given A and C. B and E are independent given A, C and D. B and E are independent given A and D. C and E are independent given A. C and E are independent given A and B. C and E are independent given A, B and D. C and E are independent given A and D. C and E are independent given B. D and E are independent given A. D and E are independent given A and B. D and E are independent given A, B and C. D and E are independent given A and C.
    
    Step 1 - Read the Data:
    - Extracted variables: A, B, C, D, E
    - Correlations: (A, B), (A, C), (A, D), (A, E), (B, C), (B, D), (B, E), (C, D), (C, E), (D, E)
    - Independencies:
      - A and C are independent given B
      - A and C are independent given B and E
      - B and E are independent given A
      - B and E are independent given A and C
      - B and E are independent given A, C and D
      - B and E are independent given A and D
      - C and E are independent given A
      - C and E are independent given A and B
      - C and E are independent given A, B and D
      - C and E are independent given A and D
      - C and E are independent given B
      - D and E are independent given A
      - D and E are independent given A and B
      - D and E are independent given A, B and C
      - D and E are independent given A and C
    
    Step 2 - Initialize the Graph:
    - Created edges between all correlated variable pairs.
    - Initial edges: {(A, B), (A, C), (A, D), (A, E), (B, C), (B, D), (B, E), (C, D), (C, E), (D, E)}
    - Connections for each node:
      - A: {B, C, D, E}
      - B: {A, C, D, E}
      - C: {A, B, D, E}
      - D: {A, B, C, E}
      - E: {A, B, C, D}
    
    Step 3 - Apply Independencies:
    - Because A and C are independent given B, remove the edge between A and C.
    - Because A and C are independent given B and E, there is no edge between A and C.
    - Because B and E are independent given A, remove the edge between B and E.
    - Because B and E are independent given A and C, there is no edge between B and E.
    - Because B and E are independent given A, C and D, there is no edge between B and E.
    - Because B and E are independent given A and D, there is no edge between B and E.
    - Because C and E are independent given A, remove the edge between C and E.
    - Because C and E are independent given A and B, there is no edge between C and E.
    - Because C and E are independent given A, B and D, there is no edge between C and E.
    - Because C and E are independent given A and D, there is no edge between C and E.
    - Because C and E are independent given B, there is no edge between C and E.
    - Because D and E are independent given A, remove the edge between D and E.
    - Because D and E are independent given A and B, there is no edge between D and E.
    - Because D and E are independent given A, B and C, there is no edge between D and E.
    - Because D and E are independent given A and C, there is no edge between D and E.
    
    And the following candidate step:
    In this graph:
    - Node A is connected to nodes B, E.
    - Node B is connected to nodes A, C, D.
    - Node C is connected to nodes B.
    - Node D is connected to nodes B.
    - Node E has no connections.
    
    Please evaluate the candidate step with respect to these constraints:
    Compile the Causal Undirected Skeleton
    - List every variable (node) identified in the premise.
    - For each node, list all other nodes it is connected to based on the correlations.
    - Exclude any edge that should be removed due to a declared independency.
    - Ensure the final graph reflects both:
        - All existing correlations as edges, and
        - The absence of edges where independencies apply.
    - Format the output in a clear, consistent manner, for example:
        In this graph:
        - Node A is connected to nodes B, C.
        - Node B is connected to node A.
        - Node C is connected to node A.
        - Node D has no connections.
    Compile the Causal Undirected Skeleton
    - List each node with its connected nodes.
    - Ensure all applied independencies are reflected accurately.
    
    Consider the following criteria:
    - Does the candidate step correctly implement the change(s) specified?
    - Are all nodes and edges (or removals) consistent with the overall constraints?
    - Is the candidate step detailed enough to reflect the intended modifications?
    
    Rate on a scale from 0 (poor) to 10 (excellent) how well the candidate step satisfies the constraints.
    
    IMPORTANT:
    - Your response MUST be exactly one integer number between 0 and 10.
    - Do NOT include any extra text, explanation, or additional characters.
    
    For example, if you believe the state is excellent, simply respond with:
    10

- description: Step 4 (Compile the skeleton) - correct example, refactored prompt
  user_prompt: |
    You are given a chain-of-thought outlining the steps for applying the PC algorithm. The candidate graph is provided below.

    - Extracted variables: A, B, C, D, E
    - Correlations: (A, B), (A, C), (A, D), (A, E), (B, C), (B, D), (B, E), (C, D), (C, E), (D, E)
    - Independencies:
      - A and C are independent given B
      - A and C are independent given B and E
      - B and E are independent given A
      - B and E are independent given A and C
      - B and E are independent given A, C and D
      - B and E are independent given A and D
      - C and E are independent given A
      - C and E are independent given A and B
      - C and E are independent given A, B and D
      - C and E are independent given A and D
      - C and E are independent given B
      - D and E are independent given A
      - D and E are independent given A and B
      - D and E are independent given A, B and C
      - D and E are independent given A and C
    
    - Created edges between all correlated variable pairs.
    - Initial edges: {(A, B), (A, C), (A, D), (A, E), (B, C), (B, D), (B, E), (C, D), (C, E), (D, E)}
    
    - Because A and C are independent given B, remove the edge between A and C.
    - Because A and C are independent given B and E, there is no edge between A and C.
    - Because B and E are independent given A, remove the edge between B and E.
    - Because B and E are independent given A and C, there is no edge between B and E.
    - Because B and E are independent given A, C and D, there is no edge between B and E.
    - Because B and E are independent given A and D, there is no edge between B and E.
    - Because C and E are independent given A, remove the edge between C and E.
    - Because C and E are independent given A and B, there is no edge between C and E.
    - Because C and E are independent given A, B and D, there is no edge between C and E.
    - Because C and E are independent given A and D, there is no edge between C and E.
    - Because C and E are independent given B, there is no edge between C and E.
    - Because D and E are independent given A, remove the edge between D and E.
    - Because D and E are independent given A and B, there is no edge between D and E.
    - Because D and E are independent given A, B and C, there is no edge between D and E.
    - Because D and E are independent given A and C, there is no edge between D and E.

    Candidate Graph for Evaluation:
      - Node A is connected to nodes B, D, E.
      - Node B is connected to nodes A, C, D.
      - Node C is connected to nodes B, D.
      - Node D is connected to nodes A, B, C.
      - Node E is connected to node A.
    
    Evaluation Criteria:
      - Must list every variable with its correct connections based on the correlations minus the removed edges from the independencies.
      - The candidate graph must reflect all applied changes accurately.
      - Consider missing or extra edges when scoring.
    
    Instructions:
      - Rate the candidate graph on a scale from 0 (poor) to 10 (excellent) based solely on how accurately it reflects the intended causal undirected skeleton.
      - IMPORTANT: Respond with exactly one integer (0â€“10) and nothing else.
