system_prompts:
  edge_verification: |
    You are an expert in causal inference, graph theory, proficient in applying the PC (Peter-Clark) algorithm. 
    Your task is to verify whether specific edge should exist in a causal graph based on independence statements.

  graph_consistency: |
    You are an expert in causal inference and graph theory with deep expertise in the PC (Peter-Clark) algorithm. You are provided with a set of human-language independence statements (the "Premise") and a causal undirected skeleton computed by the PC algorithm. Your task is to verify that the graph’s edges are consistent with the independence and correlation information in the Premise. 

    Key points:
    - The PC algorithm starts with a fully connected graph and iteratively removes edges when conditional independence is found.
    - Focus on applying the independence statements correctly.
    - Your output should concisely identify any inconsistencies and suggest the necessary modifications.


verification_prompts:
  edge_existence: |
    As the causal graph problem, given the provided premise and by using the PC (Peter-Clark) algorithm your task is to verify relationship between two nodes.
    Premise: {premise}

    Specifically focus on the relationship between nodes {edge_from} and {edge_to}.
    Should there be a direct edge between these nodes in the undirected causal skeleton?

    Consider all provided independencies statements from the given premise carefully.
    Answer with only YES or NO.

  global_consistency: |
    For this causal inference problem, you are given the following:
    1. A Premise that includes human-language descriptions of independence statements and correlations.
    2. A set of edges representing the undirected causal graph, computed using the PC algorithm.
    
    Tasks:
    1. Parse the provided Premise to extract the independence and correlation claims.
    2. Verify whether the given set of edges is consistent with these statements. An edge is consistent only if it does not contradict any independence claim.
    3. Identify any modifications needed:
       - List any edges that should be removed because they conflict with an independence statement.
       - List any edges that should be added if the Premise implies a dependency that is missing.
    4. Provide your answer using a two-step reasoning process (internally check your logic then output a concise summary).
    
    Use the following JSON structure in your final response:
    
    {{
        "edges_to_add": [["A", "B"], ["C", "D"], ...],
        "edges_to_remove": [["E", "F"], ["G", "H"], ...]
    }}
    
    Premise: {premise}
    Edges:
    {formatted_edges}

  explicit_independence_testing: |
    You are an expert in causal inference analyzing an undirected causal graph.
    
    Premise: {premise}
    
    Current edges in the graph:
    {formatted_edges}
    
    For each edge, you must test its consistency against EVERY independence statement. Follow this process systematically:
    
    1. First, extract ALL independence statements from the premise, listing them one by one.
    2. For EACH edge in the graph:
       a. Test the edge against EACH independence statement
       b. Document your reasoning for each test
       c. Conclude whether each edge should remain or be removed
    3. Check if any MISSING edges are implied by correlations but not contradicted by independence statements
    
    Structure your analysis as follows:
    
    ## Independence Statements
    1. [Statement 1]
    2. [Statement 2]
    ...
    
    ## Edge Analysis
    
    Edge: X -- Y
    - Test against statement 1: [reasoning] → [consistent/inconsistent]
    - Test against statement 2: [reasoning] → [consistent/inconsistent]
    - Decision: [keep/remove] edge X -- Y
    
    [Repeat for each edge]
    
    ## Missing Edges Check
    [Check for any correlations that imply edges should be added]
    
    ## Final Decision
    {{
        "edges_to_add": [["A", "B"], ...],
        "edges_to_remove": [["C", "D"], ...]
    }}
